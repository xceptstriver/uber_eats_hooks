{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":49,"column":16},"end":{"line":51,"column":3}}]}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0},"end":{"line":185,"column":0}}]}},{"name":"../NativeAnimatedHelper","data":{"asyncType":null,"locs":[{"start":{"line":30,"column":6},"end":{"line":30,"column":30}},{"start":{"line":121,"column":4},"end":{"line":121,"column":55}},{"start":{"line":122,"column":41},"end":{"line":122,"column":80}},{"start":{"line":150,"column":4},"end":{"line":150,"column":54}},{"start":{"line":154,"column":4},"end":{"line":154,"column":51}},{"start":{"line":161,"column":26},"end":{"line":161,"column":65}},{"start":{"line":165,"column":6},"end":{"line":165,"column":30}}]}},{"name":"invariant","data":{"asyncType":null,"locs":[{"start":{"line":155,"column":4},"end":{"line":158,"column":5}}]}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _uniqueId = 1;\n\n  var AnimatedNode = function () {\n    function AnimatedNode() {\n      _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\")(this, AnimatedNode);\n\n      this._listeners = {};\n    }\n\n    _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/createClass\")(AnimatedNode, [{\n      key: \"__attach\",\n      value: function __attach() {}\n    }, {\n      key: \"__detach\",\n      value: function __detach() {\n        if (this.__isNative && this.__nativeTag != null) {\n          _$$_REQUIRE(_dependencyMap[2], \"../NativeAnimatedHelper\").API.dropAnimatedNode(this.__nativeTag);\n\n          this.__nativeTag = undefined;\n        }\n      }\n    }, {\n      key: \"__getValue\",\n      value: function __getValue() {}\n    }, {\n      key: \"__getAnimatedValue\",\n      value: function __getAnimatedValue() {\n        return this.__getValue();\n      }\n    }, {\n      key: \"__addChild\",\n      value: function __addChild(child) {}\n    }, {\n      key: \"__removeChild\",\n      value: function __removeChild(child) {}\n    }, {\n      key: \"__getChildren\",\n      value: function __getChildren() {\n        return [];\n      }\n    }, {\n      key: \"__makeNative\",\n      value: function __makeNative() {\n        if (!this.__isNative) {\n          throw new Error('This node cannot be made a \"native\" animated node');\n        }\n\n        if (this.hasListeners()) {\n          this._startListeningToNativeValueUpdates();\n        }\n      }\n    }, {\n      key: \"addListener\",\n      value: function addListener(callback) {\n        var id = String(_uniqueId++);\n        this._listeners[id] = callback;\n\n        if (this.__isNative) {\n          this._startListeningToNativeValueUpdates();\n        }\n\n        return id;\n      }\n    }, {\n      key: \"removeListener\",\n      value: function removeListener(id) {\n        delete this._listeners[id];\n\n        if (this.__isNative && !this.hasListeners()) {\n          this._stopListeningForNativeValueUpdates();\n        }\n      }\n    }, {\n      key: \"removeAllListeners\",\n      value: function removeAllListeners() {\n        this._listeners = {};\n\n        if (this.__isNative) {\n          this._stopListeningForNativeValueUpdates();\n        }\n      }\n    }, {\n      key: \"hasListeners\",\n      value: function hasListeners() {\n        return !!Object.keys(this._listeners).length;\n      }\n    }, {\n      key: \"_startListeningToNativeValueUpdates\",\n      value: function _startListeningToNativeValueUpdates() {\n        var _this = this;\n\n        if (this.__nativeAnimatedValueListener && !this.__shouldUpdateListenersForNewNativeTag) {\n          return;\n        }\n\n        if (this.__shouldUpdateListenersForNewNativeTag) {\n          this.__shouldUpdateListenersForNewNativeTag = false;\n\n          this._stopListeningForNativeValueUpdates();\n        }\n\n        _$$_REQUIRE(_dependencyMap[2], \"../NativeAnimatedHelper\").API.startListeningToAnimatedNodeValue(this.__getNativeTag());\n\n        this.__nativeAnimatedValueListener = _$$_REQUIRE(_dependencyMap[2], \"../NativeAnimatedHelper\").nativeEventEmitter.addListener('onAnimatedValueUpdate', function (data) {\n          if (data.tag !== _this.__getNativeTag()) {\n            return;\n          }\n\n          _this._onAnimatedValueUpdateReceived(data.value);\n        });\n      }\n    }, {\n      key: \"_onAnimatedValueUpdateReceived\",\n      value: function _onAnimatedValueUpdateReceived(value) {\n        this.__callListeners(value);\n      }\n    }, {\n      key: \"__callListeners\",\n      value: function __callListeners(value) {\n        for (var _key in this._listeners) {\n          this._listeners[_key]({\n            value: value\n          });\n        }\n      }\n    }, {\n      key: \"_stopListeningForNativeValueUpdates\",\n      value: function _stopListeningForNativeValueUpdates() {\n        if (!this.__nativeAnimatedValueListener) {\n          return;\n        }\n\n        this.__nativeAnimatedValueListener.remove();\n\n        this.__nativeAnimatedValueListener = null;\n\n        _$$_REQUIRE(_dependencyMap[2], \"../NativeAnimatedHelper\").API.stopListeningToAnimatedNodeValue(this.__getNativeTag());\n      }\n    }, {\n      key: \"__getNativeTag\",\n      value: function __getNativeTag() {\n        var _this$__nativeTag;\n\n        _$$_REQUIRE(_dependencyMap[2], \"../NativeAnimatedHelper\").assertNativeAnimatedModule();\n\n        _$$_REQUIRE(_dependencyMap[3], \"invariant\")(this.__isNative, 'Attempt to get native tag from node not marked as \"native\"');\n\n        var nativeTag = (_this$__nativeTag = this.__nativeTag) != null ? _this$__nativeTag : _$$_REQUIRE(_dependencyMap[2], \"../NativeAnimatedHelper\").generateNewNodeTag();\n\n        if (this.__nativeTag == null) {\n          this.__nativeTag = nativeTag;\n\n          _$$_REQUIRE(_dependencyMap[2], \"../NativeAnimatedHelper\").API.createAnimatedNode(nativeTag, this.__getNativeConfig());\n\n          this.__shouldUpdateListenersForNewNativeTag = true;\n        }\n\n        return nativeTag;\n      }\n    }, {\n      key: \"__getNativeConfig\",\n      value: function __getNativeConfig() {\n        throw new Error('This JS animated node type cannot be used as native animated node');\n      }\n    }, {\n      key: \"toJSON\",\n      value: function toJSON() {\n        return this.__getValue();\n      }\n    }]);\n\n    return AnimatedNode;\n  }();\n\n  module.exports = AnimatedNode;\n});","lineCount":179,"map":[[2,0,11,0],[4,0,20,0],[4,6,20,4,"_uniqueId"],[4,15,20,13],[4,18,20,16],[4,19,20,0],[6,6,24,6,"AnimatedNode"],[6,18],[7,0,49,2],[7,28,49,16],[8,0,49,16],[10,0,50,4],[10,11,50,9,"_listeners"],[10,21,50,4],[10,24,50,22],[10,26,50,4],[11,0,51,3],[15,13,27,2],[15,33,27,19],[15,34,27,21],[18,13,28,2],[18,33,28,19],[19,0,29,4],[19,12,29,8],[19,17,29,13,"__isNative"],[19,27,29,8],[19,31,29,27],[19,36,29,32,"__nativeTag"],[19,47,29,27],[19,51,29,47],[19,55,29,4],[19,57,29,53],[20,0,30,6],[20,68,30,27,"API"],[20,71,30,6],[20,72,30,31,"dropAnimatedNode"],[20,88,30,6],[20,89,30,48],[20,94,30,53,"__nativeTag"],[20,105,30,6],[22,0,31,6],[22,15,31,11,"__nativeTag"],[22,26,31,6],[22,29,31,25,"undefined"],[22,38,31,6],[23,0,32,5],[24,0,33,3],[27,13,34,2],[27,35,34,20],[27,36,34,22],[30,13,35,2],[30,43,35,28],[31,0,36,4],[31,15,36,11],[31,20,36,16,"__getValue"],[31,30,36,11],[31,32,36,4],[32,0,37,3],[35,13,38,2],[35,33,38,13,"child"],[35,38,38,2],[35,40,38,34],[35,41,38,36],[38,13,39,2],[38,36,39,16,"child"],[38,41,39,2],[38,43,39,37],[38,44,39,39],[41,13,40,2],[41,38,40,39],[42,0,41,4],[42,15,41,11],[42,17,41,4],[43,0,42,3],[46,13,53,2],[46,37,53,17],[47,0,54,4],[47,12,54,8],[47,13,54,9],[47,18,54,14,"__isNative"],[47,28,54,4],[47,30,54,26],[48,0,55,6],[48,16,55,12],[48,20,55,16,"Error"],[48,25,55,12],[48,26,55,22],[48,77,55,12],[48,78,55,6],[49,0,56,5],[51,0,58,4],[51,12,58,8],[51,17,58,13,"hasListeners"],[51,29,58,8],[51,31,58,4],[51,33,58,29],[52,0,59,6],[52,15,59,11,"_startListeningToNativeValueUpdates"],[52,50,59,6],[53,0,60,5],[54,0,61,3],[57,13,70,2],[57,34,70,14,"callback"],[57,42,70,2],[57,44,70,55],[58,0,71,4],[58,12,71,10,"id"],[58,14,71,12],[58,17,71,15,"String"],[58,23,71,21],[58,24,71,22,"_uniqueId"],[58,33,71,31],[58,35,71,21],[58,36,71,4],[59,0,72,4],[59,13,72,9,"_listeners"],[59,23,72,4],[59,24,72,20,"id"],[59,26,72,4],[59,30,72,26,"callback"],[59,38,72,4],[61,0,73,4],[61,12,73,8],[61,17,73,13,"__isNative"],[61,27,73,4],[61,29,73,25],[62,0,74,6],[62,15,74,11,"_startListeningToNativeValueUpdates"],[62,50,74,6],[63,0,75,5],[65,0,76,4],[65,15,76,11,"id"],[65,17,76,4],[66,0,77,3],[69,13,85,2],[69,37,85,17,"id"],[69,39,85,2],[69,41,85,35],[70,0,86,4],[70,15,86,11],[70,20,86,16,"_listeners"],[70,30,86,11],[70,31,86,27,"id"],[70,33,86,11],[70,34,86,4],[72,0,87,4],[72,12,87,8],[72,17,87,13,"__isNative"],[72,27,87,8],[72,31,87,27],[72,32,87,28],[72,37,87,33,"hasListeners"],[72,49,87,28],[72,51,87,4],[72,53,87,49],[73,0,88,6],[73,15,88,11,"_stopListeningForNativeValueUpdates"],[73,50,88,6],[74,0,89,5],[75,0,90,3],[78,13,97,2],[78,43,97,29],[79,0,98,4],[79,13,98,9,"_listeners"],[79,23,98,4],[79,26,98,22],[79,28,98,4],[81,0,99,4],[81,12,99,8],[81,17,99,13,"__isNative"],[81,27,99,4],[81,29,99,25],[82,0,100,6],[82,15,100,11,"_stopListeningForNativeValueUpdates"],[82,50,100,6],[83,0,101,5],[84,0,102,3],[87,13,104,2],[87,37,104,26],[88,0,105,4],[88,15,105,11],[88,16,105,12],[88,17,105,13,"Object"],[88,23,105,19],[88,24,105,20,"keys"],[88,28,105,13],[88,29,105,25],[88,34,105,30,"_listeners"],[88,44,105,13],[88,46,105,42,"length"],[88,52,105,4],[89,0,106,3],[92,13,108,2],[92,60,108,40],[93,0,108,40],[95,0,109,4],[95,12,110,6],[95,17,110,11,"__nativeAnimatedValueListener"],[95,46,110,6],[95,50,111,6],[95,51,111,7],[95,56,111,12,"__shouldUpdateListenersForNewNativeTag"],[95,94,109,4],[95,96,112,6],[96,0,113,6],[97,0,114,5],[99,0,116,4],[99,12,116,8],[99,17,116,13,"__shouldUpdateListenersForNewNativeTag"],[99,55,116,4],[99,57,116,53],[100,0,117,6],[100,15,117,11,"__shouldUpdateListenersForNewNativeTag"],[100,53,117,6],[100,56,117,52],[100,61,117,6],[102,0,118,6],[102,15,118,11,"_stopListeningForNativeValueUpdates"],[102,50,118,6],[103,0,119,5],[105,0,121,4],[105,70,121,22,"startListeningToAnimatedNodeValue"],[105,103,121,4],[105,104,121,56],[105,109,121,61,"__getNativeTag"],[105,123,121,56],[105,125,121,4],[107,0,122,4],[107,13,122,9,"__nativeAnimatedValueListener"],[107,42,122,4],[107,45,122,41],[107,103,122,62,"nativeEventEmitter"],[107,121,122,41],[107,122,122,81,"addListener"],[107,133,122,41],[107,134,123,6],[107,157,122,41],[107,159,124,6],[107,169,124,6,"data"],[107,173,124,10],[107,175,124,14],[108,0,125,8],[108,14,125,12,"data"],[108,18,125,16],[108,19,125,17,"tag"],[108,22,125,12],[108,27,125,25],[108,32,125,29],[108,33,125,30,"__getNativeTag"],[108,47,125,25],[108,49,125,8],[108,51,125,48],[109,0,126,10],[110,0,127,9],[112,0,128,8],[112,10,128,8],[112,15,128,12],[112,16,128,13,"_onAnimatedValueUpdateReceived"],[112,46,128,8],[112,47,128,44,"data"],[112,51,128,48],[112,52,128,49,"value"],[112,57,128,8],[113,0,129,7],[113,9,122,41],[113,10,122,4],[114,0,131,3],[117,13,133,2],[117,53,133,33,"value"],[117,58,133,2],[117,60,133,48],[118,0,134,4],[118,13,134,9,"__callListeners"],[118,28,134,4],[118,29,134,25,"value"],[118,34,134,4],[119,0,135,3],[122,13,137,2],[122,38,137,18,"value"],[122,43,137,2],[122,45,137,39],[123,0,138,4],[123,13,138,9],[123,17,138,15,"key"],[123,21,138,4],[123,25,138,22],[123,30,138,27,"_listeners"],[123,40,138,4],[123,42,138,39],[124,0,139,6],[124,15,139,11,"_listeners"],[124,25,139,6],[124,26,139,22,"key"],[124,30,139,6],[124,32,139,27],[125,0,139,28,"value"],[125,12,139,28,"value"],[125,17,139,33],[125,19,139,28,"value"],[126,0,139,27],[126,11,139,6],[127,0,140,5],[128,0,141,3],[131,13,143,2],[131,60,143,40],[132,0,144,4],[132,12,144,8],[132,13,144,9],[132,18,144,14,"__nativeAnimatedValueListener"],[132,47,144,4],[132,49,144,45],[133,0,145,6],[134,0,146,5],[136,0,148,4],[136,13,148,9,"__nativeAnimatedValueListener"],[136,42,148,4],[136,43,148,39,"remove"],[136,49,148,4],[138,0,149,4],[138,13,149,9,"__nativeAnimatedValueListener"],[138,42,149,4],[138,45,149,41],[138,49,149,4],[140,0,150,4],[140,70,150,22,"stopListeningToAnimatedNodeValue"],[140,102,150,4],[140,103,150,55],[140,108,150,60,"__getNativeTag"],[140,122,150,55],[140,124,150,4],[141,0,151,3],[144,13,153,2],[144,39,153,27],[145,0,153,27],[147,0,154,4],[147,66,154,25,"assertNativeAnimatedModule"],[147,92,154,4],[149,0,155,4],[149,52,156,6],[149,57,156,11,"__isNative"],[149,67,155,4],[149,69,157,6],[149,129,155,4],[151,0,160,4],[151,12,160,10,"nativeTag"],[151,21,160,19],[151,45,161,6],[151,50,161,11,"__nativeTag"],[151,61,160,19],[151,93,161,26],[151,151,161,47,"generateNewNodeTag"],[151,169,161,26],[151,171,160,4],[153,0,163,4],[153,12,163,8],[153,17,163,13,"__nativeTag"],[153,28,163,8],[153,32,163,28],[153,36,163,4],[153,38,163,34],[154,0,164,6],[154,15,164,11,"__nativeTag"],[154,26,164,6],[154,29,164,25,"nativeTag"],[154,38,164,6],[156,0,165,6],[156,68,165,27,"API"],[156,71,165,6],[156,72,165,31,"createAnimatedNode"],[156,90,165,6],[156,91,166,8,"nativeTag"],[156,100,165,6],[156,102,167,8],[156,107,167,13,"__getNativeConfig"],[156,124,167,8],[156,126,165,6],[158,0,169,6],[158,15,169,11,"__shouldUpdateListenersForNewNativeTag"],[158,53,169,6],[158,56,169,52],[158,60,169,6],[159,0,170,5],[161,0,172,4],[161,15,172,11,"nativeTag"],[161,24,172,4],[162,0,173,3],[165,13,174,2],[165,42,174,30],[166,0,175,4],[166,14,175,10],[166,18,175,14,"Error"],[166,23,175,10],[166,24,176,6],[166,91,175,10],[166,92,175,4],[167,0,178,3],[170,13,179,2],[170,31,179,16],[171,0,180,4],[171,15,180,11],[171,20,180,16,"__getValue"],[171,30,180,11],[171,32,180,4],[172,0,181,3],[178,0,184,0,"module"],[178,2,184,0,"module"],[178,8,184,6],[178,9,184,7,"exports"],[178,16,184,0],[178,19,184,17,"AnimatedNode"],[178,31,184,0]],"functionMap":{"names":["<global>","AnimatedNode","__attach","__detach","__getValue","__getAnimatedValue","__addChild","__removeChild","__getChildren","constructor","__makeNative","addListener","removeListener","removeAllListeners","hasListeners","_startListeningToNativeValueUpdates","NativeAnimatedHelper.nativeEventEmitter.addListener$argument_1","_onAnimatedValueUpdateReceived","__callListeners","_stopListeningForNativeValueUpdates","__getNativeTag","__getNativeConfig","toJSON"],"mappings":"AAA;ACuB;ECG,mBD;EEC;GFK;EGC,oBH;EIC;GJE;EKC,kCL;EMC,qCN;EOC;GPE;EQO;GRE;ESE;GTQ;EUS;GVO;EWQ;GXK;EYO;GZK;EaE;GbE;EcE;MCgB;ODK;GdE;EgBE;GhBE;EiBE;GjBI;EkBE;GlBQ;EmBE;GnBoB;EoBC;GpBI;EqBC;GrBE;CDC"}},"type":"js/module"}]}