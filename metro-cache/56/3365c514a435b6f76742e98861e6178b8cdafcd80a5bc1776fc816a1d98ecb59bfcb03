{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0},"end":{"line":47,"column":0}},{"start":{"line":3,"column":0},"end":{"line":5,"column":36}},{"start":{"line":6,"column":0},"end":{"line":6,"column":62}},{"start":{"line":7,"column":0},"end":{"line":7,"column":42}}]}},{"name":"@babel/runtime/helpers/extends","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0},"end":{"line":47,"column":0}}]}},{"name":"react","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0},"end":{"line":1,"column":31}}]}},{"name":"./NavigationBuilderContext","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":0},"end":{"line":5,"column":36}}]}},{"name":"./NavigationRouteContext","data":{"asyncType":null,"locs":[{"start":{"line":6,"column":0},"end":{"line":6,"column":62}}]}},{"name":"./isArrayEqual","data":{"asyncType":null,"locs":[{"start":{"line":7,"column":0},"end":{"line":7,"column":42}}]}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useOnGetState;\n\n  var _extends2 = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\")(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/extends\"));\n\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[2], \"react\"));\n\n  var _NavigationBuilderContext = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\")(_$$_REQUIRE(_dependencyMap[3], \"./NavigationBuilderContext\"));\n\n  var _NavigationRouteContext = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\")(_$$_REQUIRE(_dependencyMap[4], \"./NavigationRouteContext\"));\n\n  var _isArrayEqual = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\")(_$$_REQUIRE(_dependencyMap[5], \"./isArrayEqual\"));\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  function useOnGetState(_ref) {\n    var getState = _ref.getState,\n        getStateListeners = _ref.getStateListeners;\n\n    var _React$useContext = React.useContext(_NavigationBuilderContext.default),\n        addKeyedListener = _React$useContext.addKeyedListener;\n\n    var route = React.useContext(_NavigationRouteContext.default);\n    var key = route ? route.key : 'root';\n    var getRehydratedState = React.useCallback(function () {\n      var state = getState();\n      var routes = state.routes.map(function (route) {\n        var _getStateListeners$ro;\n\n        var childState = (_getStateListeners$ro = getStateListeners[route.key]) == null ? void 0 : _getStateListeners$ro.call(getStateListeners);\n\n        if (route.state === childState) {\n          return route;\n        }\n\n        return (0, _extends2.default)({}, route, {\n          state: childState\n        });\n      });\n\n      if ((0, _isArrayEqual.default)(state.routes, routes)) {\n        return state;\n      }\n\n      return (0, _extends2.default)({}, state, {\n        routes: routes\n      });\n    }, [getState, getStateListeners]);\n    React.useEffect(function () {\n      return addKeyedListener == null ? void 0 : addKeyedListener('getState', key, getRehydratedState);\n    }, [addKeyedListener, getRehydratedState, key]);\n  }\n});","lineCount":58,"map":[[9,0,1,0],[11,0,3,0],[13,0,6,0],[15,0,7,0],[21,0,14,15],[21,11,14,24,"useOnGetState"],[21,24,14,15],[21,31,17,12],[22,0,17,12],[22,8,15,2,"getState"],[22,16,17,12],[22,24,15,2,"getState"],[22,32,17,12],[23,0,17,12],[23,8,16,2,"getStateListeners"],[23,25,17,12],[23,33,16,2,"getStateListeners"],[23,50,17,12],[25,0,18,2],[25,28,18,31,"React"],[25,33,18,36],[25,34,18,37,"useContext"],[25,44,18,31],[25,45,18,48,"NavigationBuilderContext"],[25,78,18,31],[25,79,18,2],[26,0,18,2],[26,8,18,10,"addKeyedListener"],[26,24,18,2],[26,45,18,10,"addKeyedListener"],[26,61,18,2],[28,0,19,2],[28,8,19,8,"route"],[28,13,19,13],[28,16,19,16,"React"],[28,21,19,21],[28,22,19,22,"useContext"],[28,32,19,16],[28,33,19,33,"NavigationRouteContext"],[28,64,19,16],[28,65,19,2],[29,0,20,2],[29,8,20,8,"key"],[29,11,20,11],[29,14,20,14,"route"],[29,19,20,19],[29,22,20,22,"route"],[29,27,20,27],[29,28,20,28,"key"],[29,31,20,19],[29,34,20,34],[29,40,20,2],[30,0,22,2],[30,8,22,8,"getRehydratedState"],[30,26,22,26],[30,29,22,29,"React"],[30,34,22,34],[30,35,22,35,"useCallback"],[30,46,22,29],[30,47,22,47],[30,59,22,53],[31,0,23,4],[31,10,23,10,"state"],[31,15,23,15],[31,18,23,18,"getState"],[31,26,23,26],[31,28,23,4],[32,0,26,4],[32,10,26,10,"routes"],[32,16,26,16],[32,19,26,19,"state"],[32,24,26,24],[32,25,26,25,"routes"],[32,31,26,19],[32,32,26,32,"map"],[32,35,26,19],[32,36,26,36],[32,46,26,37,"route"],[32,51,26,36],[32,53,26,47],[33,0,26,47],[35,0,27,6],[35,12,27,12,"childState"],[35,22,27,22],[35,50,27,25,"getStateListeners"],[35,67,27,42],[35,68,27,43,"route"],[35,73,27,48],[35,74,27,49,"key"],[35,77,27,42],[35,78,27,22],[35,99,27,25],[35,126,27,25,"getStateListeners"],[35,143,27,42],[35,144,27,6],[37,0,29,6],[37,12,29,10,"route"],[37,17,29,15],[37,18,29,16,"state"],[37,23,29,10],[37,28,29,26,"childState"],[37,38,29,6],[37,40,29,38],[38,0,30,8],[38,17,30,15,"route"],[38,22,30,8],[39,0,31,7],[41,0,33,6],[41,42,33,18,"route"],[41,47,33,6],[42,0,33,25,"state"],[42,10,33,25,"state"],[42,15,33,30],[42,17,33,32,"childState"],[43,0,33,6],[44,0,34,5],[44,7,26,19],[44,8,26,4],[46,0,36,4],[46,10,36,8],[46,37,36,21,"state"],[46,42,36,26],[46,43,36,27,"routes"],[46,49,36,8],[46,51,36,35,"routes"],[46,57,36,8],[46,58,36,4],[46,60,36,44],[47,0,37,6],[47,15,37,13,"state"],[47,20,37,6],[48,0,38,5],[50,0,40,4],[50,40,40,16,"state"],[50,45,40,4],[51,0,40,23,"routes"],[51,8,40,23,"routes"],[51,14,40,29],[51,16,40,23,"routes"],[52,0,40,4],[53,0,41,3],[53,5,22,29],[53,7,41,5],[53,8,41,6,"getState"],[53,16,41,5],[53,18,41,16,"getStateListeners"],[53,35,41,5],[53,36,22,29],[53,37,22,2],[54,0,43,2,"React"],[54,4,43,2,"React"],[54,9,43,7],[54,10,43,8,"useEffect"],[54,19,43,2],[54,20,43,18],[54,32,43,24],[55,0,44,4],[55,13,44,11,"addKeyedListener"],[55,29,44,4],[55,49,44,11,"addKeyedListener"],[55,65,44,27],[55,66,44,30],[55,76,44,27],[55,78,44,42,"key"],[55,81,44,27],[55,83,44,47,"getRehydratedState"],[55,101,44,27],[55,102,44,4],[56,0,45,3],[56,5,43,2],[56,7,45,5],[56,8,45,6,"addKeyedListener"],[56,24,45,5],[56,26,45,24,"getRehydratedState"],[56,44,45,5],[56,46,45,44,"key"],[56,49,45,5],[56,50,43,2],[57,0,46,1]],"functionMap":{"names":["<global>","useOnGetState","React.useCallback$argument_0","state.routes.map$argument_0","React.useEffect$argument_0"],"mappings":"AAA;eCa;+CCQ;oCCI;KDQ;GDO;kBGE;GHE;CDC"}},"type":"js/module"}]}