{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0},"end":{"line":131,"column":0}}]}},{"name":"@babel/runtime/helpers/toConsumableArray","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0},"end":{"line":131,"column":0}}]}},{"name":"react","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0},"end":{"line":1,"column":31}}]}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useEventEmitter;\n\n  var _toConsumableArray2 = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\")(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/toConsumableArray\"));\n\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[2], \"react\"));\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  function useEventEmitter(listen) {\n    var listenRef = React.useRef(listen);\n    React.useEffect(function () {\n      listenRef.current = listen;\n    });\n    var listeners = React.useRef({});\n    var create = React.useCallback(function (target) {\n      var removeListener = function removeListener(type, callback) {\n        var callbacks = listeners.current[type] ? listeners.current[type][target] : undefined;\n\n        if (!callbacks) {\n          return;\n        }\n\n        var index = callbacks.indexOf(callback);\n        callbacks.splice(index, 1);\n      };\n\n      var addListener = function addListener(type, callback) {\n        listeners.current[type] = listeners.current[type] || {};\n        listeners.current[type][target] = listeners.current[type][target] || [];\n        listeners.current[type][target].push(callback);\n        return function () {\n          return removeListener(type, callback);\n        };\n      };\n\n      return {\n        addListener: addListener,\n        removeListener: removeListener\n      };\n    }, []);\n    var emit = React.useCallback(function (_ref) {\n      var _items$target, _ref2;\n\n      var type = _ref.type,\n          data = _ref.data,\n          target = _ref.target,\n          canPreventDefault = _ref.canPreventDefault;\n      var items = listeners.current[type] || {};\n      var callbacks = target !== undefined ? (_items$target = items[target]) == null ? void 0 : _items$target.slice() : (_ref2 = []).concat.apply(_ref2, (0, _toConsumableArray2.default)(Object.keys(items).map(function (t) {\n        return items[t];\n      }))).filter(function (cb, i, self) {\n        return self.lastIndexOf(cb) === i;\n      });\n      var event = {\n        get type() {\n          return type;\n        }\n\n      };\n\n      if (target !== undefined) {\n        Object.defineProperty(event, 'target', {\n          enumerable: true,\n          get: function get() {\n            return target;\n          }\n        });\n      }\n\n      if (data !== undefined) {\n        Object.defineProperty(event, 'data', {\n          enumerable: true,\n          get: function get() {\n            return data;\n          }\n        });\n      }\n\n      if (canPreventDefault) {\n        var defaultPrevented = false;\n        Object.defineProperties(event, {\n          defaultPrevented: {\n            enumerable: true,\n            get: function get() {\n              return defaultPrevented;\n            }\n          },\n          preventDefault: {\n            enumerable: true,\n            value: function value() {\n              defaultPrevented = true;\n            }\n          }\n        });\n      }\n\n      listenRef.current == null ? void 0 : listenRef.current(event);\n      callbacks == null ? void 0 : callbacks.forEach(function (cb) {\n        return cb(event);\n      });\n      return event;\n    }, []);\n    return React.useMemo(function () {\n      return {\n        create: create,\n        emit: emit\n      };\n    }, [create, emit]);\n  }\n});","lineCount":116,"map":[[9,0,1,0],[15,0,15,15],[15,11,15,24,"useEventEmitter"],[15,26,15,15],[15,27,16,2,"listen"],[15,33,15,15],[15,35,17,29],[16,0,18,2],[16,8,18,8,"listenRef"],[16,17,18,17],[16,20,18,20,"React"],[16,25,18,25],[16,26,18,26,"useRef"],[16,32,18,20],[16,33,18,33,"listen"],[16,39,18,20],[16,40,18,2],[17,0,20,2,"React"],[17,4,20,2,"React"],[17,9,20,7],[17,10,20,8,"useEffect"],[17,19,20,2],[17,20,20,18],[17,32,20,24],[18,0,21,4,"listenRef"],[18,6,21,4,"listenRef"],[18,15,21,13],[18,16,21,14,"current"],[18,23,21,4],[18,26,21,24,"listen"],[18,32,21,4],[19,0,22,3],[19,5,20,2],[20,0,24,2],[20,8,24,8,"listeners"],[20,17,24,17],[20,20,24,20,"React"],[20,25,24,25],[20,26,24,26,"useRef"],[20,32,24,20],[20,33,24,76],[20,35,24,20],[20,36,24,2],[21,0,26,2],[21,8,26,8,"create"],[21,14,26,14],[21,17,26,17,"React"],[21,22,26,22],[21,23,26,23,"useCallback"],[21,34,26,17],[21,35,26,35],[21,45,26,36,"target"],[21,51,26,35],[21,53,26,55],[22,0,27,4],[22,10,27,10,"removeListener"],[22,24,27,24],[22,27,27,27],[22,36,27,10,"removeListener"],[22,50,27,27],[22,51,27,28,"type"],[22,55,27,27],[22,57,27,42,"callback"],[22,65,27,27],[22,67,27,76],[23,0,28,6],[23,12,28,12,"callbacks"],[23,21,28,21],[23,24,28,24,"listeners"],[23,33,28,33],[23,34,28,34,"current"],[23,41,28,24],[23,42,28,42,"type"],[23,46,28,24],[23,50,29,10,"listeners"],[23,59,29,19],[23,60,29,20,"current"],[23,67,29,10],[23,68,29,28,"type"],[23,72,29,10],[23,74,29,34,"target"],[23,80,29,10],[23,81,28,24],[23,84,30,10,"undefined"],[23,93,28,6],[25,0,32,6],[25,12,32,10],[25,13,32,11,"callbacks"],[25,22,32,6],[25,24,32,22],[26,0,33,8],[27,0,34,7],[29,0,36,6],[29,12,36,12,"index"],[29,17,36,17],[29,20,36,20,"callbacks"],[29,29,36,29],[29,30,36,30,"indexOf"],[29,37,36,20],[29,38,36,38,"callback"],[29,46,36,20],[29,47,36,6],[30,0,38,6,"callbacks"],[30,8,38,6,"callbacks"],[30,17,38,15],[30,18,38,16,"splice"],[30,24,38,6],[30,25,38,23,"index"],[30,30,38,6],[30,32,38,30],[30,33,38,6],[31,0,39,5],[31,7,27,4],[33,0,41,4],[33,10,41,10,"addListener"],[33,21,41,21],[33,24,41,24],[33,33,41,10,"addListener"],[33,44,41,24],[33,45,41,25,"type"],[33,49,41,24],[33,51,41,39,"callback"],[33,59,41,24],[33,61,41,73],[34,0,42,6,"listeners"],[34,8,42,6,"listeners"],[34,17,42,15],[34,18,42,16,"current"],[34,25,42,6],[34,26,42,24,"type"],[34,30,42,6],[34,34,42,32,"listeners"],[34,43,42,41],[34,44,42,42,"current"],[34,51,42,32],[34,52,42,50,"type"],[34,56,42,32],[34,61,42,59],[34,63,42,6],[35,0,43,6,"listeners"],[35,8,43,6,"listeners"],[35,17,43,15],[35,18,43,16,"current"],[35,25,43,6],[35,26,43,24,"type"],[35,30,43,6],[35,32,43,30,"target"],[35,38,43,6],[35,42,43,40,"listeners"],[35,51,43,49],[35,52,43,50,"current"],[35,59,43,40],[35,60,43,58,"type"],[35,64,43,40],[35,66,43,64,"target"],[35,72,43,40],[35,77,43,75],[35,79,43,6],[36,0,44,6,"listeners"],[36,8,44,6,"listeners"],[36,17,44,15],[36,18,44,16,"current"],[36,25,44,6],[36,26,44,24,"type"],[36,30,44,6],[36,32,44,30,"target"],[36,38,44,6],[36,40,44,38,"push"],[36,44,44,6],[36,45,44,43,"callback"],[36,53,44,6],[37,0,46,6],[37,15,46,13],[38,0,46,13],[38,17,46,19,"removeListener"],[38,31,46,33],[38,32,46,34,"type"],[38,36,46,33],[38,38,46,40,"callback"],[38,46,46,33],[38,47,46,13],[39,0,46,13],[39,9,46,6],[40,0,47,5],[40,7,41,4],[42,0,49,4],[42,13,49,11],[43,0,50,6,"addListener"],[43,8,50,6,"addListener"],[43,19,50,17],[43,21,50,6,"addListener"],[43,32,49,11],[44,0,51,6,"removeListener"],[44,8,51,6,"removeListener"],[44,22,51,20],[44,24,51,6,"removeListener"],[45,0,49,11],[45,7,49,4],[46,0,53,3],[46,5,26,17],[46,7,53,5],[46,9,26,17],[46,10,26,2],[47,0,55,2],[47,8,55,8,"emit"],[47,12,55,12],[47,15,55,15,"React"],[47,20,55,20],[47,21,55,21,"useCallback"],[47,32,55,15],[47,33,56,4],[47,49,66,10],[48,0,66,10],[50,0,66,10],[50,10,57,6,"type"],[50,14,66,10],[50,22,57,6,"type"],[50,26,66,10],[51,0,66,10],[51,10,58,6,"data"],[51,14,66,10],[51,22,58,6,"data"],[51,26,66,10],[52,0,66,10],[52,10,59,6,"target"],[52,16,66,10],[52,24,59,6,"target"],[52,30,66,10],[53,0,66,10],[53,10,60,6,"canPreventDefault"],[53,27,66,10],[53,35,60,6,"canPreventDefault"],[53,52,66,10],[54,0,67,6],[54,10,67,12,"items"],[54,15,67,17],[54,18,67,20,"listeners"],[54,27,67,29],[54,28,67,30,"current"],[54,35,67,20],[54,36,67,38,"type"],[54,40,67,20],[54,45,67,47],[54,47,67,6],[55,0,70,6],[55,10,70,12,"callbacks"],[55,19,70,21],[55,22,71,8,"target"],[55,28,71,14],[55,33,71,19,"undefined"],[55,42,71,8],[55,62,72,12,"items"],[55,67,72,17],[55,68,72,18,"target"],[55,74,72,17],[55,75,71,8],[55,96,72,12],[55,110,72,27,"slice"],[55,115,72,12],[55,117,71,8],[55,120,73,12],[55,129,73,13],[55,131,73,12],[55,133,74,15,"concat"],[55,139,73,12],[55,186,74,25,"Object"],[55,192,74,31],[55,193,74,32,"keys"],[55,197,74,25],[55,198,74,37,"items"],[55,203,74,25],[55,205,74,44,"map"],[55,208,74,25],[55,209,74,48],[55,219,74,49,"t"],[55,220,74,48],[56,0,74,48],[56,15,74,55,"items"],[56,20,74,60],[56,21,74,61,"t"],[56,22,74,60],[56,23,74,48],[57,0,74,48],[57,7,74,25],[57,8,73,12],[57,11,75,15,"filter"],[57,17,73,12],[57,18,75,22],[57,28,75,23,"cb"],[57,30,75,22],[57,32,75,27,"i"],[57,33,75,22],[57,35,75,30,"self"],[57,39,75,22],[58,0,75,22],[58,15,75,39,"self"],[58,19,75,43],[58,20,75,44,"lastIndexOf"],[58,31,75,39],[58,32,75,56,"cb"],[58,34,75,39],[58,40,75,64,"i"],[58,41,75,22],[59,0,75,22],[59,7,73,12],[59,8,70,6],[60,0,77,6],[60,10,77,12,"event"],[60,15,77,42],[60,18,77,45],[61,0,78,8],[61,12,78,12,"type"],[61,16,78,8],[61,19,78,19],[62,0,79,10],[62,17,79,17,"type"],[62,21,79,10],[63,0,80,9],[65,0,77,45],[65,7,77,6],[67,0,83,6],[67,10,83,10,"target"],[67,16,83,16],[67,21,83,21,"undefined"],[67,30,83,6],[67,32,83,32],[68,0,84,8,"Object"],[68,8,84,8,"Object"],[68,14,84,14],[68,15,84,15,"defineProperty"],[68,29,84,8],[68,30,84,30,"event"],[68,35,84,8],[68,37,84,37],[68,45,84,8],[68,47,84,47],[69,0,85,10,"enumerable"],[69,10,85,10,"enumerable"],[69,20,85,20],[69,22,85,22],[69,26,84,47],[70,0,86,10,"get"],[70,10,86,10,"get"],[70,13,84,47],[70,30,86,16],[71,0,87,12],[71,19,87,19,"target"],[71,25,87,12],[72,0,88,11],[73,0,84,47],[73,9,84,8],[74,0,90,7],[76,0,92,6],[76,10,92,10,"data"],[76,14,92,14],[76,19,92,19,"undefined"],[76,28,92,6],[76,30,92,30],[77,0,93,8,"Object"],[77,8,93,8,"Object"],[77,14,93,14],[77,15,93,15,"defineProperty"],[77,29,93,8],[77,30,93,30,"event"],[77,35,93,8],[77,37,93,37],[77,43,93,8],[77,45,93,45],[78,0,94,10,"enumerable"],[78,10,94,10,"enumerable"],[78,20,94,20],[78,22,94,22],[78,26,93,45],[79,0,95,10,"get"],[79,10,95,10,"get"],[79,13,93,45],[79,30,95,16],[80,0,96,12],[80,19,96,19,"data"],[80,23,96,12],[81,0,97,11],[82,0,93,45],[82,9,93,8],[83,0,99,7],[85,0,101,6],[85,10,101,10,"canPreventDefault"],[85,27,101,6],[85,29,101,29],[86,0,102,8],[86,12,102,12,"defaultPrevented"],[86,28,102,28],[86,31,102,31],[86,36,102,8],[87,0,104,8,"Object"],[87,8,104,8,"Object"],[87,14,104,14],[87,15,104,15,"defineProperties"],[87,31,104,8],[87,32,104,32,"event"],[87,37,104,8],[87,39,104,39],[88,0,105,10,"defaultPrevented"],[88,10,105,10,"defaultPrevented"],[88,26,105,26],[88,28,105,28],[89,0,106,12,"enumerable"],[89,12,106,12,"enumerable"],[89,22,106,22],[89,24,106,24],[89,28,105,28],[90,0,107,12,"get"],[90,12,107,12,"get"],[90,15,105,28],[90,32,107,18],[91,0,108,14],[91,21,108,21,"defaultPrevented"],[91,37,108,14],[92,0,109,13],[93,0,105,28],[93,11,104,39],[94,0,111,10,"preventDefault"],[94,10,111,10,"preventDefault"],[94,24,111,24],[94,26,111,26],[95,0,112,12,"enumerable"],[95,12,112,12,"enumerable"],[95,22,112,22],[95,24,112,24],[95,28,111,26],[96,0,113,12,"value"],[96,12,113,12,"value"],[96,17,111,26],[96,36,113,20],[97,0,114,14,"defaultPrevented"],[97,14,114,14,"defaultPrevented"],[97,30,114,30],[97,33,114,33],[97,37,114,14],[98,0,115,13],[99,0,111,26],[100,0,104,39],[100,9,104,8],[101,0,118,7],[103,0,120,6,"listenRef"],[103,6,120,6,"listenRef"],[103,15,120,15],[103,16,120,16,"current"],[103,23,120,6],[103,43,120,6,"listenRef"],[103,52,120,15],[103,53,120,16,"current"],[103,60,120,6],[103,61,120,26,"event"],[103,66,120,6],[104,0,122,6,"callbacks"],[104,6,122,6,"callbacks"],[104,15,122,15],[104,23,122,6],[104,35,122,6,"callbacks"],[104,44,122,15],[104,45,122,17,"forEach"],[104,52,122,6],[104,53,122,25],[104,63,122,26,"cb"],[104,65,122,25],[105,0,122,25],[105,15,122,33,"cb"],[105,17,122,35],[105,18,122,36,"event"],[105,23,122,35],[105,24,122,25],[106,0,122,25],[106,7,122,6],[107,0,124,6],[107,13,124,13,"event"],[107,18,124,6],[108,0,125,5],[108,5,55,15],[108,7,126,4],[108,9,55,15],[108,10,55,2],[109,0,129,2],[109,11,129,9,"React"],[109,16,129,14],[109,17,129,15,"useMemo"],[109,24,129,9],[109,25,129,23],[110,0,129,23],[110,13,129,30],[111,0,129,32,"create"],[111,8,129,32,"create"],[111,14,129,38],[111,16,129,32,"create"],[111,22,129,30],[112,0,129,40,"emit"],[112,8,129,40,"emit"],[112,12,129,44],[112,14,129,40,"emit"],[113,0,129,30],[113,7,129,23],[114,0,129,23],[114,5,129,9],[114,7,129,49],[114,8,129,50,"create"],[114,14,129,49],[114,16,129,58,"emit"],[114,20,129,49],[114,21,129,9],[114,22,129,2],[115,0,130,1]],"functionMap":{"names":["<global>","useEventEmitter","React.useEffect$argument_0","React.useCallback$argument_0","removeListener","addListener","<anonymous>","Object.keys.map$argument_0","concat.filter$argument_0","event.get__type","Object.defineProperty$argument_2.get","Object.defineProperties$argument_1.defaultPrevented.get","Object.defineProperties$argument_1.preventDefault.value","React.useMemo$argument_0"],"mappings":"AAA;eCc;kBCK;GDE;mCEI;2BCC;KDY;wBEE;aCK,oCD;KFC;GFM;IEG;gDIkB,eJ;sBKC,2CL;QMG;SNE;UOM;WPE;UOO;WPE;YQU;aRE;YSI;aTE;yBGO,iBH;KFG;uBYI,wBZ;CDC"}},"type":"js/module"}]}