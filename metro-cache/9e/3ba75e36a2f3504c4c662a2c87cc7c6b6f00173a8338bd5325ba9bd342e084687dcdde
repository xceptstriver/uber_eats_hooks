{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0},"end":{"line":145,"column":0}},{"start":{"line":1,"column":0},"end":{"line":145,"column":0}}]}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0},"end":{"line":145,"column":0}}]}},{"name":"@babel/runtime/helpers/extends","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0},"end":{"line":145,"column":0}}]}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = getActionFromState;\n\n  var _slicedToArray2 = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\")(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\"));\n\n  var _extends2 = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\")(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/extends\"));\n\n  function getActionFromState(state, options) {\n    var _state$index, _normalizedConfig$scr;\n\n    var normalizedConfig = options ? createNormalizedConfigItem(options) : {};\n    var routes = state.index != null ? state.routes.slice(0, state.index + 1) : state.routes;\n\n    if (routes.length === 0) {\n      return undefined;\n    }\n\n    if (!(routes.length === 1 && routes[0].key === undefined || routes.length === 2 && routes[0].key === undefined && routes[0].name === (normalizedConfig == null ? void 0 : normalizedConfig.initialRouteName) && routes[1].key === undefined)) {\n      return {\n        type: 'RESET',\n        payload: state\n      };\n    }\n\n    var route = state.routes[(_state$index = state.index) != null ? _state$index : state.routes.length - 1];\n    var current = route == null ? void 0 : route.state;\n    var config = normalizedConfig == null ? void 0 : (_normalizedConfig$scr = normalizedConfig.screens) == null ? void 0 : _normalizedConfig$scr[route == null ? void 0 : route.name];\n    var params = (0, _extends2.default)({}, route.params);\n    var payload = route ? {\n      name: route.name,\n      params: params\n    } : undefined;\n\n    while (current) {\n      var _config, _config2, _config2$screens;\n\n      if (current.routes.length === 0) {\n        return undefined;\n      }\n\n      var _routes = current.index != null ? current.routes.slice(0, current.index + 1) : current.routes;\n\n      var _route = _routes[_routes.length - 1];\n      (0, _extends2.default)(params, {\n        initial: undefined,\n        screen: undefined,\n        params: undefined,\n        state: undefined\n      });\n\n      if (_routes.length === 1 && _routes[0].key === undefined) {\n        params.initial = true;\n        params.screen = _route.name;\n      } else if (_routes.length === 2 && _routes[0].key === undefined && _routes[0].name === ((_config = config) == null ? void 0 : _config.initialRouteName) && _routes[1].key === undefined) {\n        params.initial = false;\n        params.screen = _route.name;\n      } else {\n        params.state = current;\n        break;\n      }\n\n      if (_route.state) {\n        params.params = (0, _extends2.default)({}, _route.params);\n        params = params.params;\n      } else {\n        params.params = _route.params;\n      }\n\n      current = _route.state;\n      config = (_config2 = config) == null ? void 0 : (_config2$screens = _config2.screens) == null ? void 0 : _config2$screens[_route.name];\n    }\n\n    if (!payload) {\n      return;\n    }\n\n    return {\n      type: 'NAVIGATE',\n      payload: payload\n    };\n  }\n\n  var createNormalizedConfigItem = function createNormalizedConfigItem(config) {\n    return typeof config === 'object' && config != null ? {\n      initialRouteName: config.initialRouteName,\n      screens: config.screens != null ? createNormalizedConfigs(config.screens) : undefined\n    } : {};\n  };\n\n  var createNormalizedConfigs = function createNormalizedConfigs(options) {\n    return Object.entries(options).reduce(function (acc, _ref) {\n      var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n          k = _ref2[0],\n          v = _ref2[1];\n\n      acc[k] = createNormalizedConfigItem(v);\n      return acc;\n    }, {});\n  };\n});","lineCount":103,"map":[[11,0,26,15],[11,11,26,24,"getActionFromState"],[11,29,26,15],[11,30,27,2,"state"],[11,35,26,15],[11,37,28,2,"options"],[11,44,26,15],[11,46,29,70],[12,0,29,70],[14,0,31,2],[14,8,31,8,"normalizedConfig"],[14,24,31,24],[14,27,31,27,"options"],[14,34,31,34],[14,37,31,37,"createNormalizedConfigItem"],[14,63,31,63],[14,64,31,64,"options"],[14,71,31,63],[14,72,31,34],[14,75,31,75],[14,77,31,2],[15,0,33,2],[15,8,33,8,"routes"],[15,14,33,14],[15,17,34,4,"state"],[15,22,34,9],[15,23,34,10,"index"],[15,28,34,4],[15,32,34,19],[15,36,34,4],[15,39,34,26,"state"],[15,44,34,31],[15,45,34,32,"routes"],[15,51,34,26],[15,52,34,39,"slice"],[15,57,34,26],[15,58,34,45],[15,59,34,26],[15,61,34,48,"state"],[15,66,34,53],[15,67,34,54,"index"],[15,72,34,48],[15,75,34,62],[15,76,34,26],[15,77,34,4],[15,80,34,67,"state"],[15,85,34,72],[15,86,34,73,"routes"],[15,92,33,2],[17,0,36,2],[17,8,36,6,"routes"],[17,14,36,12],[17,15,36,13,"length"],[17,21,36,6],[17,26,36,24],[17,27,36,2],[17,29,36,27],[18,0,37,4],[18,13,37,11,"undefined"],[18,22,37,4],[19,0,38,3],[21,0,40,2],[21,8,41,4],[21,10,42,7,"routes"],[21,16,42,13],[21,17,42,14,"length"],[21,23,42,7],[21,28,42,25],[21,29,42,7],[21,33,42,30,"routes"],[21,39,42,36],[21,40,42,37],[21,41,42,36],[21,42,42,30],[21,43,42,40,"key"],[21,46,42,30],[21,51,42,48,"undefined"],[21,60,42,6],[21,64,43,7,"routes"],[21,70,43,13],[21,71,43,14,"length"],[21,77,43,7],[21,82,43,25],[21,83,43,7],[21,87,44,8,"routes"],[21,93,44,14],[21,94,44,15],[21,95,44,14],[21,96,44,8],[21,97,44,18,"key"],[21,100,44,8],[21,105,44,26,"undefined"],[21,114,43,7],[21,118,45,8,"routes"],[21,124,45,14],[21,125,45,15],[21,126,45,14],[21,127,45,8],[21,128,45,18,"name"],[21,132,45,8],[21,138,45,27,"normalizedConfig"],[21,154,45,8],[21,174,45,27,"normalizedConfig"],[21,190,45,43],[21,191,45,45,"initialRouteName"],[21,207,45,8],[21,208,43,7],[21,212,46,8,"routes"],[21,218,46,14],[21,219,46,15],[21,220,46,14],[21,221,46,8],[21,222,46,18,"key"],[21,225,46,8],[21,230,46,26,"undefined"],[21,239,41,4],[21,240,40,2],[21,242,48,4],[22,0,49,4],[22,13,49,11],[23,0,50,6,"type"],[23,8,50,6,"type"],[23,12,50,10],[23,14,50,12],[23,21,49,11],[24,0,51,6,"payload"],[24,8,51,6,"payload"],[24,15,51,13],[24,17,51,15,"state"],[25,0,49,11],[25,7,49,4],[26,0,53,3],[28,0,55,2],[28,8,55,8,"route"],[28,13,55,13],[28,16,55,16,"state"],[28,21,55,21],[28,22,55,22,"routes"],[28,28,55,16],[28,45,55,29,"state"],[28,50,55,34],[28,51,55,35,"index"],[28,56,55,16],[28,83,55,44,"state"],[28,88,55,49],[28,89,55,50,"routes"],[28,95,55,44],[28,96,55,57,"length"],[28,102,55,44],[28,105,55,66],[28,106,55,16],[28,107,55,2],[29,0,57,2],[29,8,57,6,"current"],[29,15,57,56],[29,18,57,59,"route"],[29,23,57,56],[29,43,57,59,"route"],[29,48,57,64],[29,49,57,66,"state"],[29,54,57,2],[30,0,58,2],[30,8,58,6,"config"],[30,14,58,36],[30,17,58,39,"normalizedConfig"],[30,33,58,36],[30,78,58,39,"normalizedConfig"],[30,94,58,55],[30,95,58,57,"screens"],[30,102,58,36],[30,123,58,39],[30,145,58,67,"route"],[30,150,58,39],[30,170,58,67,"route"],[30,175,58,72],[30,176,58,74,"name"],[30,180,58,39],[30,181,58,2],[31,0,59,2],[31,8,59,6,"params"],[31,14,59,12],[31,44,59,20,"route"],[31,49,59,25],[31,50,59,26,"params"],[31,56,59,12],[31,57,59,2],[32,0,64,2],[32,8,64,6,"payload"],[32,15,64,13],[32,18,64,16,"route"],[32,23,64,21],[32,26,64,24],[33,0,64,26,"name"],[33,6,64,26,"name"],[33,10,64,30],[33,12,64,32,"route"],[33,17,64,37],[33,18,64,38,"name"],[33,22,64,24],[34,0,64,44,"params"],[34,6,64,44,"params"],[34,12,64,50],[34,14,64,44,"params"],[35,0,64,24],[35,5,64,21],[35,8,64,55,"undefined"],[35,17,64,2],[37,0,66,2],[37,11,66,9,"current"],[37,18,66,2],[37,20,66,18],[38,0,66,18],[40,0,67,4],[40,10,67,8,"current"],[40,17,67,15],[40,18,67,16,"routes"],[40,24,67,8],[40,25,67,23,"length"],[40,31,67,8],[40,36,67,34],[40,37,67,4],[40,39,67,37],[41,0,68,6],[41,15,68,13,"undefined"],[41,24,68,6],[42,0,69,5],[44,0,71,4],[44,10,71,10,"routes"],[44,17,71,16],[44,20,72,6,"current"],[44,27,72,13],[44,28,72,14,"index"],[44,33,72,6],[44,37,72,23],[44,41,72,6],[44,44,73,10,"current"],[44,51,73,17],[44,52,73,18,"routes"],[44,58,73,10],[44,59,73,25,"slice"],[44,64,73,10],[44,65,73,31],[44,66,73,10],[44,68,73,34,"current"],[44,75,73,41],[44,76,73,42,"index"],[44,81,73,34],[44,84,73,50],[44,85,73,10],[44,86,72,6],[44,89,74,10,"current"],[44,96,74,17],[44,97,74,18,"routes"],[44,103,71,4],[46,0,76,4],[46,10,76,10,"route"],[46,16,76,60],[46,19,77,6,"routes"],[46,26,77,12],[46,27,77,13,"routes"],[46,34,77,19],[46,35,77,20,"length"],[46,41,77,13],[46,44,77,29],[46,45,77,12],[46,46,76,4],[47,0,80,4],[47,29,80,18,"params"],[47,35,80,4],[47,37,80,26],[48,0,81,6,"initial"],[48,8,81,6,"initial"],[48,15,81,13],[48,17,81,15,"undefined"],[48,26,80,26],[49,0,82,6,"screen"],[49,8,82,6,"screen"],[49,14,82,12],[49,16,82,14,"undefined"],[49,25,80,26],[50,0,83,6,"params"],[50,8,83,6,"params"],[50,14,83,12],[50,16,83,14,"undefined"],[50,25,80,26],[51,0,84,6,"state"],[51,8,84,6,"state"],[51,13,84,11],[51,15,84,13,"undefined"],[52,0,80,26],[52,7,80,4],[54,0,87,4],[54,10,87,8,"routes"],[54,17,87,14],[54,18,87,15,"length"],[54,24,87,8],[54,29,87,26],[54,30,87,8],[54,34,87,31,"routes"],[54,41,87,37],[54,42,87,38],[54,43,87,37],[54,44,87,31],[54,45,87,41,"key"],[54,48,87,31],[54,53,87,49,"undefined"],[54,62,87,4],[54,64,87,60],[55,0,88,6,"params"],[55,8,88,6,"params"],[55,14,88,12],[55,15,88,13,"initial"],[55,22,88,6],[55,25,88,23],[55,29,88,6],[56,0,89,6,"params"],[56,8,89,6,"params"],[56,14,89,12],[56,15,89,13,"screen"],[56,21,89,6],[56,24,89,22,"route"],[56,30,89,27],[56,31,89,28,"name"],[56,35,89,6],[57,0,90,5],[57,7,87,4],[57,13,90,11],[57,17,91,6,"routes"],[57,24,91,12],[57,25,91,13,"length"],[57,31,91,6],[57,36,91,24],[57,37,91,6],[57,41,92,6,"routes"],[57,48,92,12],[57,49,92,13],[57,50,92,12],[57,51,92,6],[57,52,92,16,"key"],[57,55,92,6],[57,60,92,24,"undefined"],[57,69,91,6],[57,73,93,6,"routes"],[57,80,93,12],[57,81,93,13],[57,82,93,12],[57,83,93,6],[57,84,93,16,"name"],[57,88,93,6],[57,105,93,25,"config"],[57,111,93,6],[57,132,93,25],[57,140,93,33,"initialRouteName"],[57,156,93,6],[57,157,91,6],[57,161,94,6,"routes"],[57,168,94,12],[57,169,94,13],[57,170,94,12],[57,171,94,6],[57,172,94,16,"key"],[57,175,94,6],[57,180,94,24,"undefined"],[57,189,90,11],[57,191,95,6],[58,0,96,6,"params"],[58,8,96,6,"params"],[58,14,96,12],[58,15,96,13,"initial"],[58,22,96,6],[58,25,96,23],[58,30,96,6],[59,0,97,6,"params"],[59,8,97,6,"params"],[59,14,97,12],[59,15,97,13,"screen"],[59,21,97,6],[59,24,97,22,"route"],[59,30,97,27],[59,31,97,28,"name"],[59,35,97,6],[60,0,98,5],[60,7,90,11],[60,13,98,11],[61,0,99,6,"params"],[61,8,99,6,"params"],[61,14,99,12],[61,15,99,13,"state"],[61,20,99,6],[61,23,99,21,"current"],[61,30,99,6],[62,0,100,6],[63,0,101,5],[65,0,103,4],[65,10,103,8,"route"],[65,16,103,13],[65,17,103,14,"state"],[65,22,103,4],[65,24,103,21],[66,0,104,6,"params"],[66,8,104,6,"params"],[66,14,104,12],[66,15,104,13,"params"],[66,21,104,6],[66,51,104,27,"route"],[66,57,104,32],[66,58,104,33,"params"],[66,64,104,6],[67,0,105,6,"params"],[67,8,105,6,"params"],[67,14,105,12],[67,17,105,15,"params"],[67,23,105,21],[67,24,105,22,"params"],[67,30,105,6],[68,0,109,5],[68,7,103,4],[68,13,109,11],[69,0,110,6,"params"],[69,8,110,6,"params"],[69,14,110,12],[69,15,110,13,"params"],[69,21,110,6],[69,24,110,22,"route"],[69,30,110,27],[69,31,110,28,"params"],[69,37,110,6],[70,0,111,5],[72,0,113,4,"current"],[72,6,113,4,"current"],[72,13,113,11],[72,16,113,14,"route"],[72,22,113,19],[72,23,113,20,"state"],[72,28,113,4],[73,0,114,4,"config"],[73,6,114,4,"config"],[73,12,114,10],[73,27,114,13,"config"],[73,33,114,10],[73,74,114,13],[73,83,114,21,"screens"],[73,90,114,10],[73,111,114,13],[73,128,114,31,"route"],[73,134,114,36],[73,135,114,37,"name"],[73,139,114,13],[73,140,114,4],[74,0,115,3],[76,0,117,2],[76,8,117,6],[76,9,117,7,"payload"],[76,16,117,2],[76,18,117,16],[77,0,118,4],[78,0,119,3],[80,0,123,2],[80,11,123,9],[81,0,124,4,"type"],[81,6,124,4,"type"],[81,10,124,8],[81,12,124,10],[81,22,123,9],[82,0,125,4,"payload"],[82,6,125,4,"payload"],[82,13,125,11],[82,15,125,4,"payload"],[83,0,123,9],[83,5,123,2],[84,0,127,1],[86,0,129,0],[86,6,129,6,"createNormalizedConfigItem"],[86,32,129,32],[86,35,129,35],[86,44,129,6,"createNormalizedConfigItem"],[86,70,129,35],[86,71,129,36,"config"],[86,77,129,35],[87,0,129,35],[87,11,130,2],[87,18,130,9,"config"],[87,24,130,2],[87,29,130,20],[87,37,130,2],[87,41,130,32,"config"],[87,47,130,38],[87,51,130,42],[87,55,130,2],[87,58,131,6],[88,0,132,8,"initialRouteName"],[88,6,132,8,"initialRouteName"],[88,22,132,24],[88,24,132,26,"config"],[88,30,132,32],[88,31,132,33,"initialRouteName"],[88,47,131,6],[89,0,133,8,"screens"],[89,6,133,8,"screens"],[89,13,133,15],[89,15,134,10,"config"],[89,21,134,16],[89,22,134,17,"screens"],[89,29,134,10],[89,33,134,28],[89,37,134,10],[89,40,135,14,"createNormalizedConfigs"],[89,63,135,37],[89,64,135,38,"config"],[89,70,135,44],[89,71,135,45,"screens"],[89,78,135,37],[89,79,134,10],[89,82,136,14,"undefined"],[90,0,131,6],[90,5,130,2],[90,8,138,6],[90,10,129,35],[91,0,129,35],[91,3,129,0],[93,0,140,0],[93,6,140,6,"createNormalizedConfigs"],[93,29,140,29],[93,32,140,32],[93,41,140,6,"createNormalizedConfigs"],[93,64,140,32],[93,65,140,33,"options"],[93,72,140,32],[94,0,140,32],[94,11,141,2,"Object"],[94,17,141,8],[94,18,141,9,"entries"],[94,25,141,2],[94,26,141,17,"options"],[94,33,141,2],[94,35,141,26,"reduce"],[94,41,141,2],[94,42,141,61],[94,52,141,62,"acc"],[94,55,141,61],[94,63,141,78],[95,0,141,78],[96,0,141,78],[96,10,141,68,"k"],[96,11,141,78],[97,0,141,78],[97,10,141,71,"v"],[97,11,141,78],[99,0,142,4,"acc"],[99,6,142,4,"acc"],[99,9,142,7],[99,10,142,8,"k"],[99,11,142,7],[99,12,142,4],[99,15,142,13,"createNormalizedConfigItem"],[99,41,142,39],[99,42,142,40,"v"],[99,43,142,39],[99,44,142,4],[100,0,143,4],[100,13,143,11,"acc"],[100,16,143,4],[101,0,144,3],[101,5,141,2],[101,7,144,5],[101,9,141,2],[101,10,140,32],[102,0,140,32],[102,3,140,0]],"functionMap":{"names":["<global>","getActionFromState","createNormalizedConfigItem","createNormalizedConfigs","Object.entries.reduce$argument_0"],"mappings":"AAA;eCyB;CDqG;mCEE;QFS;gCGE;6DCC;GDG,KH"}},"type":"js/module"}]}