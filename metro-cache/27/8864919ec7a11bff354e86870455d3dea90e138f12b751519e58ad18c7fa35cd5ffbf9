{"dependencies":[{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0},"end":{"line":121,"column":0}},{"start":{"line":1,"column":0},"end":{"line":121,"column":0}},{"start":{"line":113,"column":4},"end":{"line":113,"column":17}}]}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0},"end":{"line":121,"column":0}}]}},{"name":"@babel/runtime/helpers/inherits","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0},"end":{"line":121,"column":0}}]}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":48,"column":50},"end":{"line":55,"column":3}}]}},{"name":"../NativeAnimatedHelper","data":{"asyncType":null,"locs":[{"start":{"line":52,"column":28},"end":{"line":52,"column":57}}]}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0},"end":{"line":121,"column":0}}]}},{"name":"@babel/runtime/helpers/get","data":{"asyncType":null,"locs":[{"start":{"line":113,"column":4},"end":{"line":113,"column":17}}]}},{"name":"./Animation","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0},"end":{"line":121,"column":0}}]}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/getPrototypeOf\")(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/getPrototypeOf\")(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/possibleConstructorReturn\")(this, result); }; }\n\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n  var DecayAnimation = function (_Animation) {\n    _$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/inherits\")(DecayAnimation, _Animation);\n\n    var _super = _createSuper(DecayAnimation);\n\n    function DecayAnimation(config) {\n      var _config$deceleration, _config$isInteraction, _config$iterations;\n\n      var _this;\n\n      _$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/classCallCheck\")(this, DecayAnimation);\n\n      _this = _super.call(this);\n      _this._deceleration = (_config$deceleration = config.deceleration) != null ? _config$deceleration : 0.998;\n      _this._velocity = config.velocity;\n      _this._useNativeDriver = _$$_REQUIRE(_dependencyMap[4], \"../NativeAnimatedHelper\").shouldUseNativeDriver(config);\n      _this.__isInteraction = (_config$isInteraction = config.isInteraction) != null ? _config$isInteraction : !_this._useNativeDriver;\n      _this.__iterations = (_config$iterations = config.iterations) != null ? _config$iterations : 1;\n      return _this;\n    }\n\n    _$$_REQUIRE(_dependencyMap[5], \"@babel/runtime/helpers/createClass\")(DecayAnimation, [{\n      key: \"__getNativeAnimationConfig\",\n      value: function __getNativeAnimationConfig() {\n        return {\n          type: 'decay',\n          deceleration: this._deceleration,\n          velocity: this._velocity,\n          iterations: this.__iterations\n        };\n      }\n    }, {\n      key: \"start\",\n      value: function start(fromValue, onUpdate, onEnd, previousAnimation, animatedValue) {\n        this.__active = true;\n        this._lastValue = fromValue;\n        this._fromValue = fromValue;\n        this._onUpdate = onUpdate;\n        this.__onEnd = onEnd;\n        this._startTime = Date.now();\n\n        if (this._useNativeDriver) {\n          this.__startNativeAnimation(animatedValue);\n        } else {\n          this._animationFrame = requestAnimationFrame(this.onUpdate.bind(this));\n        }\n      }\n    }, {\n      key: \"onUpdate\",\n      value: function onUpdate() {\n        var now = Date.now();\n        var value = this._fromValue + this._velocity / (1 - this._deceleration) * (1 - Math.exp(-(1 - this._deceleration) * (now - this._startTime)));\n\n        this._onUpdate(value);\n\n        if (Math.abs(this._lastValue - value) < 0.1) {\n          this.__debouncedOnEnd({\n            finished: true\n          });\n\n          return;\n        }\n\n        this._lastValue = value;\n\n        if (this.__active) {\n          this._animationFrame = requestAnimationFrame(this.onUpdate.bind(this));\n        }\n      }\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        _$$_REQUIRE(_dependencyMap[6], \"@babel/runtime/helpers/get\")(_$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/getPrototypeOf\")(DecayAnimation.prototype), \"stop\", this).call(this);\n\n        this.__active = false;\n        global.cancelAnimationFrame(this._animationFrame);\n\n        this.__debouncedOnEnd({\n          finished: false\n        });\n      }\n    }]);\n\n    return DecayAnimation;\n  }(_$$_REQUIRE(_dependencyMap[7], \"./Animation\"));\n\n  module.exports = DecayAnimation;\n});","lineCount":95,"map":[[2,0,11,0],[8,6,38,6,"DecayAnimation"],[8,20],[13,0,48,2],[13,28,48,14,"config"],[13,34,48,2],[13,36,48,50],[14,0,48,50],[16,0,48,50],[18,0,48,50],[20,0,49,4],[21,0,50,4],[21,12,50,9,"_deceleration"],[21,25,50,4],[21,52,50,25,"config"],[21,58,50,31],[21,59,50,32,"deceleration"],[21,71,50,4],[21,106,50,48],[21,111,50,4],[22,0,51,4],[22,12,51,9,"_velocity"],[22,21,51,4],[22,24,51,21,"config"],[22,30,51,27],[22,31,51,28,"velocity"],[22,39,51,4],[23,0,52,4],[23,12,52,9,"_useNativeDriver"],[23,28,52,4],[23,31,52,28],[23,111,52,50,"config"],[23,117,52,28],[23,118,52,4],[24,0,53,4],[24,12,53,9,"__isInteraction"],[24,27,53,4],[24,55,53,27,"config"],[24,61,53,33],[24,62,53,34,"isInteraction"],[24,75,53,4],[24,111,53,51],[24,112,53,52],[24,118,53,57,"_useNativeDriver"],[24,134,53,4],[25,0,54,4],[25,12,54,9,"__iterations"],[25,24,54,4],[25,49,54,24,"config"],[25,55,54,30],[25,56,54,31,"iterations"],[25,66,54,4],[25,99,54,45],[25,100,54,4],[26,0,48,50],[27,0,55,3],[31,13,57,2],[31,51,62,5],[32,0,63,4],[32,15,63,11],[33,0,64,6,"type"],[33,10,64,6,"type"],[33,14,64,10],[33,16,64,12],[33,23,63,11],[34,0,65,6,"deceleration"],[34,10,65,6,"deceleration"],[34,22,65,18],[34,24,65,20],[34,29,65,25,"_deceleration"],[34,42,63,11],[35,0,66,6,"velocity"],[35,10,66,6,"velocity"],[35,18,66,14],[35,20,66,16],[35,25,66,21,"_velocity"],[35,34,63,11],[36,0,67,6,"iterations"],[36,10,67,6,"iterations"],[36,20,67,16],[36,22,67,18],[36,27,67,23,"__iterations"],[37,0,63,11],[37,9,63,4],[38,0,69,3],[41,13,71,2],[41,28,72,4,"fromValue"],[41,37,71,2],[41,39,73,4,"onUpdate"],[41,47,71,2],[41,49,74,4,"onEnd"],[41,54,71,2],[41,56,75,4,"previousAnimation"],[41,73,71,2],[41,75,76,4,"animatedValue"],[41,88,71,2],[41,90,77,10],[42,0,78,4],[42,13,78,9,"__active"],[42,21,78,4],[42,24,78,20],[42,28,78,4],[43,0,79,4],[43,13,79,9,"_lastValue"],[43,23,79,4],[43,26,79,22,"fromValue"],[43,35,79,4],[44,0,80,4],[44,13,80,9,"_fromValue"],[44,23,80,4],[44,26,80,22,"fromValue"],[44,35,80,4],[45,0,81,4],[45,13,81,9,"_onUpdate"],[45,22,81,4],[45,25,81,21,"onUpdate"],[45,33,81,4],[46,0,82,4],[46,13,82,9,"__onEnd"],[46,20,82,4],[46,23,82,19,"onEnd"],[46,28,82,4],[47,0,83,4],[47,13,83,9,"_startTime"],[47,23,83,4],[47,26,83,22,"Date"],[47,30,83,26],[47,31,83,27,"now"],[47,34,83,22],[47,36,83,4],[49,0,84,4],[49,12,84,8],[49,17,84,13,"_useNativeDriver"],[49,33,84,4],[49,35,84,31],[50,0,85,6],[50,15,85,11,"__startNativeAnimation"],[50,37,85,6],[50,38,85,34,"animatedValue"],[50,51,85,6],[51,0,86,5],[51,9,84,4],[51,15,86,11],[52,0,87,6],[52,15,87,11,"_animationFrame"],[52,30,87,6],[52,33,87,29,"requestAnimationFrame"],[52,54,87,50],[52,55,87,51],[52,60,87,56,"onUpdate"],[52,68,87,51],[52,69,87,65,"bind"],[52,73,87,51],[52,74,87,70],[52,78,87,51],[52,79,87,50],[52,80,87,6],[53,0,88,5],[54,0,89,3],[57,13,91,2],[57,33,91,19],[58,0,92,4],[58,12,92,10,"now"],[58,15,92,13],[58,18,92,16,"Date"],[58,22,92,20],[58,23,92,21,"now"],[58,26,92,16],[58,28,92,4],[59,0,94,4],[59,12,94,10,"value"],[59,17,94,15],[59,20,95,6],[59,25,95,11,"_fromValue"],[59,35,95,6],[59,38,96,7],[59,43,96,12,"_velocity"],[59,52,96,7],[59,56,96,25],[59,60,96,29],[59,65,96,34,"_deceleration"],[59,78,96,7],[59,79,96,6],[59,83,97,9],[59,87,97,13,"Math"],[59,91,97,17],[59,92,97,18,"exp"],[59,95,97,13],[59,96,97,22],[59,98,97,24],[59,102,97,28],[59,107,97,33,"_deceleration"],[59,120,97,22],[59,125,97,51,"now"],[59,128,97,54],[59,131,97,57],[59,136,97,62,"_startTime"],[59,146,97,22],[59,147,97,13],[59,148,96,6],[59,149,94,4],[61,0,99,4],[61,13,99,9,"_onUpdate"],[61,22,99,4],[61,23,99,19,"value"],[61,28,99,4],[63,0,101,4],[63,12,101,8,"Math"],[63,16,101,12],[63,17,101,13,"abs"],[63,20,101,8],[63,21,101,17],[63,26,101,22,"_lastValue"],[63,36,101,17],[63,39,101,35,"value"],[63,44,101,8],[63,48,101,44],[63,51,101,4],[63,53,101,49],[64,0,102,6],[64,15,102,11,"__debouncedOnEnd"],[64,31,102,6],[64,32,102,28],[65,0,102,29,"finished"],[65,12,102,29,"finished"],[65,20,102,37],[65,22,102,39],[66,0,102,28],[66,11,102,6],[68,0,103,6],[69,0,104,5],[71,0,106,4],[71,13,106,9,"_lastValue"],[71,23,106,4],[71,26,106,22,"value"],[71,31,106,4],[73,0,107,4],[73,12,107,8],[73,17,107,13,"__active"],[73,25,107,4],[73,27,107,23],[74,0,108,6],[74,15,108,11,"_animationFrame"],[74,30,108,6],[74,33,108,29,"requestAnimationFrame"],[74,54,108,50],[74,55,108,51],[74,60,108,56,"onUpdate"],[74,68,108,51],[74,69,108,65,"bind"],[74,73,108,51],[74,74,108,70],[74,78,108,51],[74,79,108,50],[74,80,108,6],[75,0,109,5],[76,0,110,3],[79,13,112,2],[79,29,112,15],[80,0,113,4],[82,0,114,4],[82,13,114,9,"__active"],[82,21,114,4],[82,24,114,20],[82,29,114,4],[83,0,115,4,"global"],[83,8,115,4,"global"],[83,14,115,10],[83,15,115,11,"cancelAnimationFrame"],[83,35,115,4],[83,36,115,32],[83,41,115,37,"_animationFrame"],[83,56,115,4],[85,0,116,4],[85,13,116,9,"__debouncedOnEnd"],[85,29,116,4],[85,30,116,26],[86,0,116,27,"finished"],[86,10,116,27,"finished"],[86,18,116,35],[86,20,116,37],[87,0,116,26],[87,9,116,4],[88,0,117,3],[94,0,120,0,"module"],[94,2,120,0,"module"],[94,8,120,6],[94,9,120,7,"exports"],[94,16,120,0],[94,19,120,17,"DecayAnimation"],[94,33,120,0]],"functionMap":{"names":["<global>","DecayAnimation","constructor","__getNativeAnimationConfig","start","onUpdate","stop"],"mappings":"AAA;ACqC;ECU;GDO;EEE;GFY;EGE;GHkB;EIE;GJmB;EKE;GLK;CDC"}},"type":"js/module"}]}