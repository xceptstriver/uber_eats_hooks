{"dependencies":[{"name":"./validate","data":{"asyncType":null,"locs":[{"start":{"line":42,"column":7},"end":{"line":42,"column":17},"identifierName":"isFunction"}]}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.promiseDefer = promiseDefer;\n  exports.promiseWithOptionalCallback = promiseWithOptionalCallback;\n\n  function promiseDefer() {\n    var deferred = {\n      resolve: null,\n      reject: null\n    };\n    deferred.promise = new Promise(function (resolve, reject) {\n      deferred.resolve = resolve;\n      deferred.reject = reject;\n    });\n    return deferred;\n  }\n\n  function promiseWithOptionalCallback(promise, callback) {\n    if (!(0, _$$_REQUIRE(_dependencyMap[0], \"./validate\").isFunction)(callback)) {\n      return promise;\n    }\n\n    return promise.then(function (result) {\n      if (callback && callback.length === 1) {\n        callback(null);\n      } else if (callback) {\n        callback(null, result);\n      }\n\n      return result;\n    }).catch(function (error) {\n      if (callback) {\n        callback(error);\n      }\n\n      return Promise.reject(error);\n    });\n  }\n});","lineCount":41,"map":[[8,0,23,7],[8,11,23,16,"promiseDefer"],[8,23,23,7],[8,26,23,31],[9,0,24,2],[9,8,24,8,"deferred"],[9,16,24,16],[9,19,24,19],[10,0,25,4,"resolve"],[10,6,25,4,"resolve"],[10,13,25,11],[10,15,25,13],[10,19,24,19],[11,0,26,4,"reject"],[11,6,26,4,"reject"],[11,12,26,10],[11,14,26,12],[12,0,24,19],[12,5,24,2],[13,0,29,2,"deferred"],[13,4,29,2,"deferred"],[13,12,29,10],[13,13,29,11,"promise"],[13,20,29,2],[13,23,29,21],[13,27,29,25,"Promise"],[13,34,29,21],[13,35,29,33],[13,45,29,34,"resolve"],[13,52,29,33],[13,54,29,43,"reject"],[13,60,29,33],[13,62,29,54],[14,0,30,4,"deferred"],[14,6,30,4,"deferred"],[14,14,30,12],[14,15,30,13,"resolve"],[14,22,30,4],[14,25,30,23,"resolve"],[14,32,30,4],[15,0,31,4,"deferred"],[15,6,31,4,"deferred"],[15,14,31,12],[15,15,31,13,"reject"],[15,21,31,4],[15,24,31,22,"reject"],[15,30,31,4],[16,0,32,3],[16,5,29,21],[16,6,29,2],[17,0,34,2],[17,11,34,9,"deferred"],[17,19,34,2],[18,0,35,1],[20,0,41,7],[20,11,41,16,"promiseWithOptionalCallback"],[20,38,41,7],[20,39,41,44,"promise"],[20,46,41,7],[20,48,41,53,"callback"],[20,56,41,7],[20,58,41,63],[21,0,42,2],[21,8,42,6],[21,9,42,7],[21,70,42,18,"callback"],[21,78,42,7],[21,79,42,2],[21,81,42,29],[22,0,43,4],[22,13,43,11,"promise"],[22,20,43,4],[23,0,44,3],[25,0,46,2],[25,11,46,9,"promise"],[25,18,46,16],[25,19,47,5,"then"],[25,23,46,9],[25,24,47,10],[25,34,47,10,"result"],[25,40,47,16],[25,42,47,20],[26,0,48,6],[26,10,48,10,"callback"],[26,18,48,18],[26,22,48,22,"callback"],[26,30,48,30],[26,31,48,31,"length"],[26,37,48,22],[26,42,48,42],[26,43,48,6],[26,45,48,45],[27,0,49,8,"callback"],[27,8,49,8,"callback"],[27,16,49,16],[27,17,49,17],[27,21,49,16],[27,22,49,8],[28,0,50,7],[28,7,48,6],[28,13,50,13],[28,17,50,17,"callback"],[28,25,50,13],[28,27,50,27],[29,0,51,8,"callback"],[29,8,51,8,"callback"],[29,16,51,16],[29,17,51,17],[29,21,51,16],[29,23,51,23,"result"],[29,29,51,16],[29,30,51,8],[30,0,52,7],[32,0,54,6],[32,13,54,13,"result"],[32,19,54,6],[33,0,55,5],[33,5,46,9],[33,7,56,5,"catch"],[33,12,46,9],[33,13,56,11],[33,23,56,11,"error"],[33,28,56,16],[33,30,56,20],[34,0,57,6],[34,10,57,10,"callback"],[34,18,57,6],[34,20,57,20],[35,0,58,8,"callback"],[35,8,58,8,"callback"],[35,16,58,16],[35,17,58,17,"error"],[35,22,58,16],[35,23,58,8],[36,0,59,7],[38,0,60,6],[38,13,60,13,"Promise"],[38,20,60,20],[38,21,60,21,"reject"],[38,27,60,13],[38,28,60,28,"error"],[38,33,60,13],[38,34,60,6],[39,0,61,5],[39,5,46,9],[39,6,46,2],[40,0,62,1]],"functionMap":{"names":["<global>","promiseDefer","Promise$argument_0","promiseWithOptionalCallback","then$argument_0","then._catch$argument_0"],"mappings":"AAA;OCsB;iCCM;GDG;CDG;OGM;UCM;KDQ;WEC;KFK;CHC"}},"type":"js/module"}]}